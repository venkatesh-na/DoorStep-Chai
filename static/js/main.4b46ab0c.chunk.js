(this.webpackJsonptea=this.webpackJsonptea||[]).push([[0],{13:function(e,a,t){},16:function(e,a,t){},17:function(e,a,t){"use strict";t.r(a);var n=t(1),s=t.n(n),c=t(7),r=t.n(c),o=(t(13),t(6)),i=t.n(o),l=t(8),d=t(4),j=t(3),u=t(2),b=t(0),h=s.a.createContext(),p=function(e){var a=e.children,t=Object(n.useState)({name:"",phone:"",address:"",radioValue:"",qnt:3,noOfPeople:1,price:5}),s=Object(u.a)(t,2),c=s[0],r=s[1],o=Object(n.useState)(""),p=Object(u.a)(o,2),m=p[0],O=p[1],x=Object(n.useState)(""),g=Object(u.a)(x,2),f=g[0],v=g[1],C=Object(n.useState)(""),y=Object(u.a)(C,2),N=y[0],k=y[1],S=Object(n.useState)(""),P=Object(u.a)(S,2),T=P[0],w=P[1],E=Object(n.useState)(!1),V=Object(u.a)(E,2),D=V[0],M=V[1],q=Object(n.useState)({code:"",message:""}),F=Object(u.a)(q,2),G=F[0],J=F[1];Object(n.useEffect)((function(){r(Object(j.a)(Object(j.a)({},c),{},{price:5*c.noOfPeople}))}),[c.noOfPeople]);var $=function(){var e=Object(l.a)(i.a.mark((function e(a){var t,n,s,o,l,d,j,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t=c.name,n=c.phone,s=c.address,o=c.radioValue,l=c.qnt,d=c.noOfPeople,j=c.price,!(t.length>2&&null!==n.match(/^[7-9][0-9]{9}$/)&&s&&o)){e.next=19;break}return e.prev=3,e.next=6,fetch("https://doorstep-chai-e0ce8-default-rtdb.firebaseio.com/userData.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,phone:n,address:s,radioValue:o,qnt:l,noOfPeople:d,price:j})});case 6:200==(u=e.sent).status?(console.log(u),O(""),v(""),k(""),w(""),r({name:"",phone:"",address:"",radioValue:"",qnt:"",noOfPeople:"",price:""}),window.scrollTo({top:0}),M(!0),J({code:"200",message:"Thank Yor for ordering from DoorStep Chai"}),setTimeout((function(){M(!1),J({code:"",message:""})}),3e3)):423==u.status&&(window.scrollTo({top:0}),M(!0),J({code:"420",message:"DoorStep Chai is closed try again on 7 AM"}),setTimeout((function(){M(!1),J({code:"",message:""})}),3e3)),e.next=17;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("loading"),window.scrollTo({top:0}),M(!0),J({code:"",message:"please turn on your internet"}),setTimeout((function(){M(!1),J({code:"",message:""})}),3e3);case 17:e.next=23;break;case 19:t.length<3&&O("please enter your name"),""!==n&&null!=n.match(/^[7-9][0-9]{9}$/)||v("please enter your valid phone number"),""===s&&k("please enter your address"),""===o&&w("select any tea flavour");case 23:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(a){return e.apply(this,arguments)}}();return Object(b.jsx)(h.Provider,{value:{handleChange:function(e){var a=e.target.name,t=e.target.value;r(Object(j.a)(Object(j.a)({},c),{},Object(d.a)({},a,t)))},handleSubmit:$,userData:c,nameError:m,phoneError:f,addressError:N,radioError:T,status:D,statusMessage:G},children:a})},m=function(){return Object(n.useContext)(h)},O=function(){var e=m(),a=e.handleChange,t=e.userData.radioValue;return Object(b.jsxs)("div",{className:"radio-container",children:[Object(b.jsx)("p",{children:"choose your type "}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("label",{className:"Ginger"==t?"box":"",children:["Ginger",Object(b.jsx)("input",{onChange:a,value:"Ginger",type:"radio",name:"radioValue",checked:"Ginger"==t})]}),Object(b.jsxs)("label",{className:"Cardamom"==t?"box":"",children:["Cardamom",Object(b.jsx)("input",{onChange:a,value:"Cardamom",type:"radio",name:"radioValue",checked:"Cardamom"==t})]}),Object(b.jsxs)("label",{className:"Mint"==t?"box":"",children:["Mint",Object(b.jsx)("input",{onChange:a,value:"Mint",type:"radio",name:"radioValue",checked:"Mint"==t})]}),Object(b.jsxs)("label",{className:"Cocktail"==t?"box":"",children:["Cocktail",Object(b.jsx)("input",{onChange:a,value:"Cocktail",type:"radio",name:"radioValue",checked:"Cocktail"==t})]})]})]})},x=function(){var e=m(),a=e.handleChange,t=e.handleSubmit,n=e.userData,s=(e.alert,e.nameError),c=e.phoneError,r=e.addressError,o=e.radioError,i=e.status,l=e.statusMessage,d=n.name,j=n.phone,u=n.address,h=n.radioValue,p=n.qnt,x=n.noOfPeople,g=n.price;return Object(b.jsxs)("section",{className:"form-container",children:[Object(b.jsx)("h1",{children:"DoorStep Chai"}),Object(b.jsxs)("form",{children:[i&&Object(b.jsx)("p",{className:"200"==l.code?"success":"message",children:l.message}),Object(b.jsxs)("label",{children:[Object(b.jsx)("span",{children:"name"}),Object(b.jsx)("input",{onChange:a,value:d,type:"text",name:"name"}),s&&Object(b.jsx)("p",{className:"message",children:d.length>2?"":s})]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("span",{children:"phone"}),Object(b.jsx)("input",{onChange:a,value:j,type:"tel",name:"phone"}),c&&Object(b.jsx)("p",{className:"message",children:null==j.match(/^[7-9][0-9]{9}$/)?c:""})]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("span",{children:"address"}),Object(b.jsx)("textarea",{value:u,onChange:a,name:"address"}),r&&Object(b.jsx)("p",{className:"message",children:u.length>10?"":r})]}),Object(b.jsx)(O,{}),o&&Object(b.jsx)("p",{className:"message",children:h?"":o}),Object(b.jsxs)("div",{className:"range-container",children:[Object(b.jsx)("span",{children:"quantity of sugar"}),Object(b.jsx)("input",{onChange:a,value:p,name:"qnt",type:"range",min:"1",max:"5"}),Object(b.jsx)("p",{className:"normal",children:"Normal"})]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("span",{children:"choose cup of tea"}),Object(b.jsx)("input",{onChange:a,value:x,name:"noOfPeople",type:"number",min:"1",max:"10"})]}),Object(b.jsxs)("div",{className:"form-footer",children:[Object(b.jsxs)("p",{className:"price",children:["price: ",g,"rs"]}),Object(b.jsx)("button",{onClick:t,className:"order",type:"submit",children:"order"})]})]})]})};t(16);var g=function(){return Object(b.jsx)("main",{children:Object(b.jsx)(x,{})})},f=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,18)).then((function(a){var t=a.getCLS,n=a.getFID,s=a.getFCP,c=a.getLCP,r=a.getTTFB;t(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(p,{children:Object(b.jsx)(g,{})})}),document.getElementById("root")),f()}},[[17,1,2]]]);
//# sourceMappingURL=main.4b46ab0c.chunk.js.map